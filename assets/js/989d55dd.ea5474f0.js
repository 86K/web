"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[801],{5511:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>d});var i=t(4848),n=t(8453);const o={},l=void 0,s={id:"tutorial/Framework/HybridCLR/HybridCLR",title:"HybridCLR",description:"HybridCLR\u662f\u4e00\u4e2a\u7279\u6027\u5b8c\u6574\u3001\u96f6\u6210\u672c\u3001\u9ad8\u6027\u80fd\u3001\u4f4e\u5185\u5b58\u7684\u8fd1\u4e4e\u5b8c\u7f8e\u7684Unity\u5168\u5e73\u53f0\u539f\u751fc#\u70ed\u66f4\u65b0\u89e3\u51b3\u65b9\u6848\u3002",source:"@site/docs/tutorial/002-Framework/003-HybridCLR/003-HybridCLR.md",sourceDirName:"tutorial/002-Framework/003-HybridCLR",slug:"/tutorial/Framework/HybridCLR/",permalink:"/web/docs/tutorial/Framework/HybridCLR/",draft:!1,unlisted:!1,editUrl:"https://github.com/86K/web/docs/tutorial/002-Framework/003-HybridCLR/003-HybridCLR.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\u5feb\u901f\u5f00\u59cb",permalink:"/web/docs/tutorial/Framework/YooAsset/\u5feb\u901f\u5f00\u59cb"},next:{title:"\u5feb\u901f\u5f00\u59cb",permalink:"/web/docs/tutorial/Framework/HybridCLR/\u5feb\u901f\u5f00\u59cb"}},c={},d=[];function a(e){const r={blockquote:"blockquote",hr:"hr",li:"li",p:"p",ul:"ul",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(r.blockquote,{children:["\n",(0,i.jsx)(r.p,{children:"HybridCLR\u662f\u4e00\u4e2a\u7279\u6027\u5b8c\u6574\u3001\u96f6\u6210\u672c\u3001\u9ad8\u6027\u80fd\u3001\u4f4e\u5185\u5b58\u7684\u8fd1\u4e4e\u5b8c\u7f8e\u7684Unity\u5168\u5e73\u53f0\u539f\u751fc#\u70ed\u66f4\u65b0\u89e3\u51b3\u65b9\u6848\u3002"}),"\n",(0,i.jsx)(r.p,{children:"HybridCLR\u6269\u5145\u4e86il2cpp\u8fd0\u884c\u65f6\u4ee3\u7801\uff0c\u4f7f\u5b83\u7531\u7eafAOT runtime\u53d8\u6210AOT+Interpreter \u6df7\u5408runtime\uff0c\u8fdb\u800c\u539f\u751f\u652f\u6301\u52a8\u6001\u52a0\u8f7dassembly\uff0c\u4ece\u5e95\u5c42\u5f7b\u5e95\u652f\u6301\u4e86\u70ed\u66f4\u65b0\u3002\u4f7f\u7528HybridCLR\u6280\u672f\u7684\u6e38\u620f\u4e0d\u4ec5\u80fd\u5728Android\u5e73\u53f0\uff0c\u4e5f\u80fd\u5728IOS\u3001Consoles\u3001WebGL\u7b49\u6240\u6709il2cpp\u652f\u6301\u7684\u5e73\u53f0\u4e0a\u9ad8\u6548\u8fd0\u884c\u3002"}),"\n",(0,i.jsx)(r.p,{children:"\u7531\u4e8eHybridCLR\u5bf9ECMA-335\u89c4\u8303 \u7684\u826f\u597d\u652f\u6301\u4ee5\u53ca\u5bf9Unity\u5f00\u53d1\u5de5\u4f5c\u6d41\u7684\u9ad8\u5ea6\u517c\u5bb9\uff0cUnity\u9879\u76ee\u5728\u63a5\u5165HybridCLR\u540e\uff0c\u53ef\u4ee5\u51e0\u4e4e\u65e0\u7f1d\u5730\u83b7\u5f97C#\u4ee3\u7801\u70ed\u66f4\u65b0\u7684\u80fd\u529b\uff0c\u5f00\u53d1\u8005\u4e0d\u9700\u8981\u6539\u53d8\u65e5\u5e38\u5f00\u53d1\u4e60\u60ef\u548c\u8981\u6c42\u3002HybridCLR\u9996\u6b21\u5b9e\u73b0\u4e86\u5c06Unity\u5e73\u53f0\u7684\u5168\u5e73\u53f0\u4ee3\u7801\u70ed\u66f4\u65b0\u65b9\u6848\u7684\u5de5\u7a0b\u96be\u5ea6\u964d\u5230\u51e0\u4e4e\u4e3a\u96f6\u7684\u6c34\u5e73\u3002"}),"\n"]}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"\u8fd1\u4e4e\u5b8c\u6574\u5b9e\u73b0\u4e86ECMA-335\u89c4\u8303\uff0c\u53ea\u6709\u6781\u5c11\u91cf\u7684\u4e0d\u652f\u6301\u7684\u7279\u6027\u3002"}),"\n",(0,i.jsx)(r.li,{children:"\u96f6\u5b66\u4e60\u548c\u4f7f\u7528\u6210\u672c\u3002\u5bf9\u7edd\u5927\u591a\u6570\u5f00\u53d1\u8005\u6765\u8bf4\u5199\u4ee3\u7801\u8fd1\u4e4e\u6ca1\u6709\u9650\u5236\u3002 \u70ed\u66f4\u65b0\u4ee3\u7801\u4e0eAOT\u4ee3\u7801\u65e0\u7f1d\u5de5\u4f5c\uff0c\u53ef\u4ee5\u968f\u610f\u5199\u7ee7\u627f\u3001\u6cdb\u578b\u3001\u53cd\u5c04\u4e4b\u7c7b\u7684\u4ee3\u7801\u3002\u4e0d\u9700\u8981\u989d\u5916\u5199\u4efb\u4f55\u7279\u6b8a\u4ee3\u7801\u3001\u6ca1\u6709\u4ee3\u7801\u751f\u6210"}),"\n",(0,i.jsx)(r.li,{children:"\u5b8c\u5168\u652f\u6301\u591a\u7ebf\u7a0b\uff0c\u5305\u542b\u4f46\u4e0d\u9650\u4e8e volatile\u3001ThreadStatic\u3001async Task\u7b49\u76f8\u5173\u529f\u80fd\u548c\u7279\u6027\u3002\u8fd9\u662f\u5176\u4ed6\u6240\u6709\u70ed\u66f4\u65b0\u65b9\u6848\u90fd\u4e0d\u652f\u6301\u7684"}),"\n",(0,i.jsx)(r.li,{children:"\u51e0\u4e4e\u5b8c\u5168\u517c\u5bb9Unity\u7684\u5de5\u4f5c\u6d41\u3002\u5305\u62ec\u4e14\u4e0d\u9650\u4e8e\u652f\u6301\u70ed\u66f4\u65b0MonoBehaviour\u3001ScriptableObject\u3001DOTS\u6280\u672f\uff0c\u8d44\u6e90\u4e0a\u6302\u8f7d\u7684\u70ed\u66f4\u65b0\u811a\u672c\u53ef\u4ee5\u6b63\u786e\u5b9e\u4f8b\u5316\uff0c\u8fd9\u662f\u5176\u4ed6\u6240\u6709\u70ed\u66f4\u65b0\u65b9\u6848\u90fd\u4e0d\u652f\u6301\u7684"}),"\n",(0,i.jsx)(r.li,{children:"\u6267\u884c\u9ad8\u6548\u3002\u5b9e\u73b0\u4e86\u4e00\u4e2a\u6781\u5176\u9ad8\u6548\u7684\u5bc4\u5b58\u5668\u89e3\u91ca\u5668\uff0c\u6240\u6709\u6307\u6807\u90fd\u5927\u5e45\u4f18\u4e8e\u5176\u4ed6\u70ed\u66f4\u65b0\u65b9\u6848\u3002\u6027\u80fd\u6d4b\u8bd5\u62a5\u544a"}),"\n",(0,i.jsx)(r.li,{children:"\u5185\u5b58\u9ad8\u6548\u3002 \u70ed\u66f4\u65b0\u811a\u672c\u4e2d\u5b9a\u4e49\u7684\u7c7b\u8ddf\u666e\u901ac#\u7c7b\u5360\u7528\u4e00\u6837\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u8fdc\u4f18\u4e8e\u5176\u4ed6\u70ed\u66f4\u65b0\u65b9\u6848\u3002\u5185\u5b58\u5360\u7528\u62a5\u544a"}),"\n",(0,i.jsx)(r.li,{children:"\u652f\u6301MonoPInvokeCallback\uff0c\u53ef\u4ee5\u4e0enative\u4ee3\u7801\u6216\u8005\u5176\u4ed6\u8bed\u8a00\u5982lua\u3001javascript\u3001python\u826f\u597d\u4ea4\u4e92"}),"\n",(0,i.jsx)(r.li,{children:"\u652f\u6301\u4e00\u4e9bil2cpp\u4e0d\u652f\u6301\u7684\u7279\u6027\uff0c\u5982__makeref\u3001 __reftype\u3001__refvalue\u6307\u4ee4"}),"\n",(0,i.jsx)(r.li,{children:"\u652f\u6301\u72ec\u521b\u7684 Differential Hybrid Execution(DHE) \u5dee\u5206\u6df7\u5408\u6267\u884c\u6280\u672f\uff0c\u5373\u53ef\u4ee5\u5bf9AOT dll\u4efb\u610f\u589e\u5220\u6539\uff0c\u4f1a\u667a\u80fd\u5730\u8ba9\u672a\u6539\u52a8\u7684\u51fd\u6570\u4ee5AOT\u65b9\u5f0f\u8fd0\u884c\uff0c\u53d8\u5316\u6216\u8005\u65b0\u589e\u7684\u51fd\u6570\u4ee5interpreter\u6a21\u5f0f\u8fd0\u884c\uff0c\u8ba9\u70ed\u66f4\u65b0\u7684\u6e38\u620f\u903b\u8f91\u7684\u8fd0\u884c\u6027\u80fd\u57fa\u672c\u8fbe\u5230\u539f\u751fAOT\u7684\u6c34\u5e73"}),"\n",(0,i.jsx)(r.li,{children:"\u652f\u6301 \u70ed\u91cd\u8f7d \u6280\u672f\uff0c\u53ef\u4ee5100%\u5378\u8f7d\u7a0b\u5e8f\u96c6"}),"\n",(0,i.jsx)(r.li,{children:"\u652f\u6301\u73b0\u4ee3\u7684dll\u52a0\u5bc6\u6280\u672f\uff0c\u6709\u6548\u4fdd\u969c\u4ee3\u7801\u5b89\u5168"}),"\n"]})]})}function u(e={}){const{wrapper:r}={...(0,n.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453:(e,r,t)=>{t.d(r,{R:()=>l,x:()=>s});var i=t(6540);const n={},o=i.createContext(n);function l(e){const r=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function s(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:l(e.components),i.createElement(o.Provider,{value:r},e.children)}}}]);